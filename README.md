# N8N-RSS-TELEGRAM

ูุฌููุนูโุง ุงุฒ Workflowูุง n8n ุจุฑุง ุงุชููุงุณูู ุงุฎุจุงุฑ ู ูพุงุด ฺฉูุช ููุง ุจุง ุงุฑุณุงู ุฎูุฏฺฉุงุฑ ุจู ุชูฺฏุฑุงู.

## ๐ฆ Workflowูุง ููุฌูุฏ

ุงู repository ุดุงูู ุณู workflow ุงุตู ุงุณุช:

### 1. ๐ฐ RSS to Telegram
Workflow ุจุฑุง ุฏุฑุงูุช ุฎูุฏฺฉุงุฑ ุงุฎุจุงุฑ ุงุฒ RSS feedูุง ู ุงุฑุณุงู ุจู ุชูฺฏุฑุงู ุจุง ูุงุจูุชโูุง:
- ุงุณุชุฎุฑุงุฌ ุฎูุฏฺฉุงุฑ ุชุตุงูุฑ ู ูุชู
- ุฎูุงุตูโุณุงุฒ ุฎุจุฑ ุจุง ููุด ูุตููุน (Gemini)
- ูุฑูุชโุจูุฏ ุฒุจุง ุจุง HTML
- ูพุดุชุจุงู ุงุฒ Binary Data

**ูุงู**: `My workflow 4(7).json`

---

### 2. ๐ซ๏ธ Air Quality Monitor - Khorasan Razavi
Workflow ุจุฑุง ูพุงุด ฺฉูุช ููุง ุงุณุชุงู ุฎุฑุงุณุงู ุฑุถู ุงุฒ API ุณุงุฒูุงู ูุญุท ุฒุณุช.

**ููุจุน ุฏุงุฏู**: [AQMS - ุณุงุฒูุงู ูุญุท ุฒุณุช](https://aqms.doe.ir)

**ูฺฺฏโูุง**:
- โ ุฏุฑุงูุช ุฏุงุฏู ุงุฒ ุฏู API (Stations + AQI)
- โ ุชุฑฺฉุจ ู ูุฑูุงูโุณุงุฒ ุฏุงุฏูโูุง
- โ ููุงุด 5 ุงุณุชฺฏุงู ุจุง ุจุฏุชุฑู ุดุงุฎุต
- โ ุชุจุฏู ุฎูุฏฺฉุงุฑ ุงุนุฏุงุฏ ุจู ูุงุฑุณ
- โ ุฌููฺฏุฑ ุงุฒ ุงุฑุณุงู ุชฺฉุฑุงุฑ
- โ ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ูุฑ ุณุงุนุช

**ูุงูโูุง**:
- Workflow: `Air_Quality_Monitor.json`
- ุฑุงูููุง: `Air_Quality_Monitor_README.md`
- ุดุฑูุน ุณุฑุน: `QUICK_START.md`

**ุงุญุฑุงุฒ ููุช**: ูุงุฒ ุจู Bearer Token ุฏุงุฑุฏ (ูุจูุงู ุฏุฑ workflow embed ุดุฏู)

**ููููู ุฎุฑูุฌ**:
```
*ุดุงุฎุต ฺฉูุช ููุง โ ุฎูุงุตู (ุฎุฑุงุณุงู ุฑุถู)*
ุฒูุงู ุจุฑูุฒุฑุณุงู: ฑดฐด/ฐท/ณฐ ฐน:ฐฐ
ุชุนุฏุงุฏ ุงุณุชฺฏุงูโูุง: ฒด

*ูพูุฌ ุงุณุชฺฏุงู ุจุง ุจุฏุชุฑู ูุถุนุช (AQI):*
1. *ูุดูุฏ - ุฑุณุงูุช* โ ุดุงุฎุต: *ฑธด* โ ุขูุงูุฏูโ ุบุงูุจ: PM10
...
```

---

### 3. ๐๏ธ Air Quality Monitor - Mashhad (Payesh)
Workflow ุจุฑุง ูพุงุด ฺฉูุช ููุง ุดูุฑ ูุดูุฏ ุงุฒ API ูพุงุด ุดูุฑ.

**ููุจุน ุฏุงุฏู**: [ูพุงุด ุดูุฑ ูุดูุฏ](https://payesh.mashhad.ir)

**ูฺฺฏโูุง**:
- โ ุฏุฑุงูุช ุฏุงุฏู ุงุฒ ฺฉ API ูุงุญุฏ (Dashboard)
- โ ุดุงุฎุต ฺฉู ุดูุฑ + ุฌุฒุฆุงุช ุงุณุชฺฏุงูโูุง
- โ ููุงุด 5 ุงุณุชฺฏุงู ุจุง ุจุฏุชุฑู ูุถุนุช
- โ ุชุจุฏู ุฎูุฏฺฉุงุฑ ุงุนุฏุงุฏ ุจู ูุงุฑุณ
- โ ุฌููฺฏุฑ ุงุฒ ุงุฑุณุงู ุชฺฉุฑุงุฑ
- โ ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ูุฑ ุณุงุนุช

**ูุงูโูุง**:
- Workflow: `Air_Quality_Monitor_Mashhad.json`
- ุฑุงูููุง: `Air_Quality_Monitor_Mashhad_README.md`

**ุงุญุฑุงุฒ ููุช**: ุจุฏูู ูุงุฒ ุจู ุชูฺฉู (API ุนููู)

**ููููู ุฎุฑูุฌ**:
```
*ุดุงุฎุต ฺฉูุช ููุง โ ุฎูุงุตู (ูุดูุฏ)*
ุฒูุงู ุงูุฏุงุฒูโฺฏุฑ: ฑดฐด/ฐท/ณฐ ฐน:ฐฐ
ุดุงุฎุต ฺฉู ุดูุฑ: *ฑฒฐ*

*ูพูุฌ ุงุณุชฺฏุงู ุจุง ุจุฏุชุฑู ูุถุนุช:*
1. *ฺูู* โ ุดุงุฎุต: *ฑดต* โ ุขูุงูุฏู: PM2.5
...
```

---

## ๐ ุดุฑูุน ุณุฑุน

### ูพุดโูุงุฒูุง

1. **n8n ูุตุจ ุดุฏู** (Self-hosted ุง Cloud)
2. **Telegram Bot** (ุงุฒ [@BotFather](https://t.me/BotFather) ุฏุฑุงูุช ฺฉูุฏ)
3. **ุดูุงุณู ฺฉุงูุงู/ฺุช ุชูฺฏุฑุงู**

### ูุตุจ ฺฏุงู ุจู ฺฏุงู

#### ฺฏุงู 1: Clone ฺฉุฑุฏู Repository

```bash
git clone https://github.com/sajjadzea/N8N-RSS-TELEGRAM.git
cd N8N-RSS-TELEGRAM
```

#### ฺฏุงู 2: Import Workflow ุฏุฑ n8n

1. ุฏุฑ n8n ุจู **Workflows** ุจุฑูุฏ
2. ุฑู **Import from File** ฺฉูฺฉ ฺฉูุฏ
3. ฺฉ ุงุฒ ูุงูโูุง JSON ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:
   - `Air_Quality_Monitor.json` (ุจุฑุง ุฎุฑุงุณุงู ุฑุถู)
   - `Air_Quality_Monitor_Mashhad.json` (ุจุฑุง ูุดูุฏ)
   - `My workflow 4(7).json` (ุจุฑุง RSS)

#### ฺฏุงู 3: ุชูุธู Telegram Bot Credentials

1. ุฏุฑ n8n ุจู **Settings โ Credentials** ุจุฑูุฏ
2. ุฑู **New** ฺฉูฺฉ ฺฉูุฏ
3. ููุน: **Telegram API**
4. Access Token ุฑุจุงุช ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
5. ุฐุฎุฑู ฺฉูุฏ

#### ฺฏุงู 4: ุชูุธู Environment Variables

ุฏุฑ n8n (Settings โ Variables):

```bash
# ููุท ุจุฑุง Air Quality Workflows
TELEGRAM_CHAT_ID=@your_channel

# ุงฺฏุฑ ุงุฒ RSS workflow ุงุณุชูุงุฏู ูโฺฉูุฏ
TELEGRAM_BOT_TOKEN=your_bot_token
```

**ูฺฉุชู**: ุจุฑุง workflow ุฎุฑุงุณุงู ุฑุถูุ Bearer Token ูุจูุงู ุฏุฑ ูุงู embed ุดุฏู ู ูุงุฒ ุจู ุชูุธู `AQMS_BEARER` ูุฏุงุฑุฏ.

#### ฺฏุงู 5: ูุนุงูโุณุงุฒ

1. ุฑู workflow ููุฑุฏ ูุธุฑ ฺฉูฺฉ ฺฉูุฏ
2. ุฏฺฉูู **Active** ุฑุง ุฑูุดู ฺฉูุฏ
3. ุจุฑุง ุชุณุชุ ุฑู node ุงูู ฺฉูฺฉ ุฑุงุณุช ฺฉุฑุฏู ู **Execute Node** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

---

## ๐ ูุณุชูุฏุงุช

ูุฑ workflow ูุณุชูุฏุงุช ฺฉุงูู ุฎูุฏ ุฑุง ุฏุงุฑุฏ:

| Workflow | ูุงู ูุณุชูุฏุงุช | ุฑุงูููุง ุณุฑุน |
|----------|-------------|--------------|
| Air Quality - Khorasan | `Air_Quality_Monitor_README.md` | `QUICK_START.md` |
| Air Quality - Mashhad | `Air_Quality_Monitor_Mashhad_README.md` | - |
| RSS to Telegram | - | - |

---

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ุชุบุฑ ุฒูุงู ุงุฌุฑุง

ุฏุฑ ูุฑ workflowุ node "Every Hour" ุฑุง ูุฑุงุด ฺฉูุฏ:

- **ูุฑ 30 ุฏููู**: `Minutes interval = 30`
- **ูุฑ 2 ุณุงุนุช**: `Hours interval = 2`
- **ุฑูุฒุงูู ุฏุฑ ุณุงุนุช 8 ุตุจุญ**: Cron expression = `0 8 * * *`

### Hardcode ฺฉุฑุฏู Chat ID

ุงฺฏุฑ ููโุฎูุงูุฏ ุงุฒ Environment Variable ุงุณุชูุงุฏู ฺฉูุฏ:

1. ุฑู node "Send to Telegram" ฺฉูฺฉ ฺฉูุฏ
2. ุฏุฑ ููุฏ Chat IDุ ุจู ุฌุง `={{ $env.TELEGRAM_CHAT_ID }}`
3. ูุณุชููุงู ุดูุงุณู ฺฉุงูุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ: `@your_channel` ุง `-1001234567890`

### ุฐุฎุฑู ุฏุงุฏูโูุง ุชุงุฑุฎ

ุจุฑุง ุฐุฎุฑู ุณุงุจูู AQI:

1. ฺฉ node "Google Sheets" ุง "PostgreSQL" ุงุถุงูู ฺฉูุฏ
2. ุจุนุฏ ุงุฒ Function node ูุตู ฺฉูุฏ
3. ุฏุงุฏูโูุง ููุฑุฏ ูุธุฑ ุฑุง ุฐุฎุฑู ฺฉูุฏ

---

## ๐ ููุงุณู Workflowูุง ฺฉูุช ููุง

| ูฺฺฏ | Khorasan (AQMS) | Mashhad (Payesh) |
|-------|-----------------|------------------|
| **ูพูุดุด** | ุงุณุชุงู ุฎุฑุงุณุงู ุฑุถู | ููุท ุดูุฑ ูุดูุฏ |
| **ููุจุน** | aqms.doe.ir | payesh.mashhad.ir |
| **ุงุญุฑุงุฒ ููุช** | Bearer Token (embedded) | ุจุฏูู ูุงุฒ |
| **ุชุนุฏุงุฏ Request** | 2 (Stations + AQI) | 1 (Dashboard) |
| **ุงุทูุงุนุงุช ุงุถุงูู** | Metadata ุงุณุชฺฏุงูโูุง | ุชุบุฑุงุช 24 ุณุงุนุช |
| **ูพฺุฏฺฏ** | ูุชูุณุท | ุณุงุฏู |

**ุชูุตู**:
- ุงฺฏุฑ ููุท ูุดูุฏ ูโุฎูุงูุฏ โ ุงุฒ **Payesh** ุงุณุชูุงุฏู ฺฉูุฏ (ุณุงุฏูโุชุฑ)
- ุงฺฏุฑ ฺฉู ุงุณุชุงู ูโุฎูุงูุฏ โ ุงุฒ **AQMS** ุงุณุชูุงุฏู ฺฉูุฏ

---

## ๐ ุงููุช

### ูฺฉุงุช ุงููุช ููู:

- โ **ุชูฺฉูโูุง ุฑุง ุฏุฑ Environment Variables ุฐุฎุฑู ฺฉูุฏ**
- โ **ูุงู `.env` ุฑุง ุจู `.gitignore` ุงุถุงูู ฺฉูุฏ**
- โ **ุฏุฑ repository ุนููู ุชูฺฉู ูุฑุงุฑ ูุฏูุฏ**
- โ **ุฏุณุชุฑุณ ุจู n8n ุฑุง ูุญุฏูุฏ ฺฉูุฏ**
- โ๏ธ **ุชูฺฉูโูุง Bearer ูุนูููุงู ูููุถ ูโุดููุฏ** - ุฑุงูููุง ุจูโุฑูุฒุฑุณุงู ุฏุฑ ูุณุชูุฏุงุช ููุฌูุฏ ุงุณุช

---

## ๐ ุนุจโุงุจ ุฑุงุฌ

### ุฎุทุง: "Bearer token is invalid"
- **ุนูุช**: ุชูฺฉู AQMS ูููุถ ุดุฏู
- **ุฑุงู ุญู**: ุชูฺฉู ุฌุฏุฏ ุงุฒ [ุฑุงูููุง](./Air_Quality_Monitor_README.md#%D8%A8%D9%87%D8%B1%D9%88%D8%B2%D8%B1%D8%B3%D8%A7%D9%86%DB%8C-%D8%AA%D9%88%DA%A9%D9%86) ุฏุฑุงูุช ฺฉูุฏ

### ุฎุทุง: "Chat not found"
- **ุนูุช**: TELEGRAM_CHAT_ID ุงุดุชุจุงู ุง ุฑุจุงุช ุจู ฺฉุงูุงู ุงุถุงูู ูุดุฏู
- **ุฑุงู ุญู**:
  1. ุฑุจุงุช ุฑุง ุจู ฺฉุงูุงู ุงุถุงูู ฺฉูุฏ
  2. Chat ID ุฑุง ุจุฑุฑุณ ฺฉูุฏ
  3. ุจุฑุง ฺฉุงูุงูโูุง ุฎุตูุต ุงุฒ ุนุฏุฏ ููู ุงุณุชูุงุฏู ฺฉูุฏ

### ุฎุทุง: "Could not reach URL"
- **ุนูุช**: ูุดฺฉู ุดุจฺฉู ุง API ุฏุฑ ุฏุณุชุฑุณ ูุณุช
- **ุฑุงู ุญู**:
  1. ุงุชุตุงู ุงูุชุฑูุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ
  2. VPN ุฑุง ุงูุชุญุงู ฺฉูุฏ
  3. ุจุนุฏุงู ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ

### ูพุงู ุงุฑุณุงู ููโุดูุฏ
- **ุนูุช**: Duplicate Prevention node
- **ุฑุงู ุญู**:
  1. Workflow Static Data ุฑุง Reset ฺฉูุฏ
  2. ุง node "Duplicate Prevention" ุฑุง ูููุชุงู ุญุฐู ฺฉูุฏ

---

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุง ูพุดููุงุฏุงุช:

1. ฺฉ Issue ุฏุฑ GitHub ุงุฌุงุฏ ฺฉูุฏ
2. ุง ฺฉ Pull Request ุงุฑุณุงู ฺฉูุฏ

---

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ MIT ููุชุดุฑ ุดุฏู ุงุณุช.

---

## ๐ ุชุดฺฉุฑ

- **n8n** - ูพูุชูุฑู ุงุชููุงุณูู workflow
- **ุณุงุฒูุงู ูุญุท ุฒุณุช** - API ฺฉูุช ููุง ูู
- **ุดูุฑุฏุงุฑ ูุดูุฏ** - API ูพุงุด ุดูุฑ
- **Telegram** - ูพูุชูุฑู ูพุงูโุฑุณุงู

---

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ุณูุงู ุฏุงุฑุฏ:

1. ูุณุชูุฏุงุช ูุฑุจูุทู ุฑุง ูุทุงูุนู ฺฉูุฏ
2. ุจุฎุด ุนุจโุงุจ ุฑุง ฺฺฉ ฺฉูุฏ
3. ุฏุฑ GitHub Issue ุงุฌุงุฏ ฺฉูุฏ

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู**: ฑดฐด/ฐท/ณฐ
**ูุณุฎู**: 2.0
**ูฺฏูุฏุงุฑูุฏู**: [@sajjadzea](https://github.com/sajjadzea)
