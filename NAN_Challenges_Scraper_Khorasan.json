{
  "name": "NAN Challenges Scraper - Khorasan Razavi",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 12
            }
          ]
        }
      },
      "id": "schedule-trigger-nan",
      "name": "Every 12 Hours",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -1100,
        300
      ]
    },
    {
      "parameters": {
        "url": "https://test.nan.ac/api/v1/Need/GetAllNeeds",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
            },
            {
              "name": "Accept",
              "value": "application/json"
            },
            {
              "name": "Accept-Language",
              "value": "fa-IR,fa;q=0.9,en-US,en;q=0.8"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "id": "http-request-nan",
      "name": "Fetch NAN Challenges (API)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -880,
        300
      ]
    },
    {
      "parameters": {
        "jsCode": "// Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ API Ùˆ ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ\nconst data = $input.item.json;\n\n// ØªØ§Ø¨Ø¹ ØªØ¨Ø¯ÛŒÙ„ Ø§Ø¹Ø¯Ø§Ø¯ Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ\nconst faNums = ['Û°','Û±','Û²','Û³','Û´','Ûµ','Û¶','Û·','Û¸','Û¹'];\nfunction toFaDigits(s) {\n  if (s === null || s === undefined) return '';\n  return String(s).replace(/\\d/g, d => faNums[Number(d)]);\n}\n\nconst challenges = [];\n\ntry {\n  // Ø´Ù†Ø§Ø³Ù‡ Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ (Ø¨Ø§ÛŒØ¯ Ø¨Ø¹Ø¯Ø§Ù‹ Ø§Ø² API GetProvinces Ø¨Ø¯Ø³Øª Ø¨ÛŒØ§ÛŒØ¯)\n  // ÙØ¹Ù„Ø§Ù‹ Ø§Ø² Ù†Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…\n  const KHORASAN_RAZAVI_ID = 30; // Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± Ø±Ùˆ Ø¨Ø§ÛŒØ¯ Ø¨Ø¹Ø¯Ø§Ù‹ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯\n  \n  // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØªÙˆÙ†Ù† Ø¯Ø± ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ø§Ø´Ù†\n  const allNeeds = data.data || data.needs || data.challenges || data;\n  \n  // Ø§Ú¯Ø± data ÛŒÙ‡ Ø¢Ø±Ø§ÛŒÙ‡ Ù†ÛŒØ³ØªØŒ Ø´Ø§ÛŒØ¯ ØªÙˆÛŒ ÛŒÙ‡ Ú©Ù„ÛŒØ¯ Ø¨Ø§Ø´Ù‡\n  const needsArray = Array.isArray(allNeeds) ? allNeeds : [];\n  \n  if (needsArray.length === 0) {\n    // Ø¨Ø±Ø§ÛŒ debugØŒ Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú†Ù‡ Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒÛŒ Ø¯Ø§Ø±ÛŒÙ…\n    console.log('Keys in data:', Object.keys(data));\n  }\n  \n  // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ\n  needsArray.forEach(need => {\n    // Ø¨Ø±Ø±Ø³ÛŒ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ§Ù†\n    const provinceId = need.provinceId || need.province_id || need.provinceID;\n    const provinceName = need.province || need.provinceName || need.Ø§Ø³ØªØ§Ù† || '';\n    const provinceIds = need.provinceIds || need.province_ids || [];\n    \n    // Ú†Ú© Ú©Ø±Ø¯Ù† Ø¢ÛŒØ§ Ø§ÛŒÙ† Ú†Ø§Ù„Ø´ Ø¨Ø±Ø§ÛŒ Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ Ù‡Ø³Øª\n    let isKhorasanRazavi = false;\n    \n    // Ø±ÙˆØ´ 1: Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ ID\n    if (provinceId === KHORASAN_RAZAVI_ID) {\n      isKhorasanRazavi = true;\n    }\n    \n    // Ø±ÙˆØ´ 2: Ú†Ú© Ú©Ø±Ø¯Ù† Ø¢Ø±Ø§ÛŒÙ‡ IDs\n    if (Array.isArray(provinceIds) && provinceIds.includes(KHORASAN_RAZAVI_ID)) {\n      isKhorasanRazavi = true;\n    }\n    \n    // Ø±ÙˆØ´ 3: Ú†Ú© Ú©Ø±Ø¯Ù† Ù†Ø§Ù… Ø§Ø³ØªØ§Ù†\n    if (provinceName.includes('Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ') || provinceName.includes('Ù…Ø´Ù‡Ø¯')) {\n      isKhorasanRazavi = true;\n    }\n    \n    // Ø±ÙˆØ´ 4: Ø§Ú¯Ø± provinceIds Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ù‡ ÛŒØ§ nullØŒ Ù…Ù…Ú©Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ Ø¨Ø§Ø´Ù‡\n    // Ø¯Ø± Ø§ÛŒÙ† ØµÙˆØ±Øª Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒØ¯ ØªØµÙ…ÛŒÙ… Ø¨Ú¯ÛŒØ±ÛŒØ¯ Ø¢ÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ù†Ù‡\n    \n    if (isKhorasanRazavi) {\n      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø² Ø³Ø§Ø®ØªØ§Ø± JSON\n      // Ø¨Ø± Ø§Ø³Ø§Ø³ snippet Ø´Ù…Ø§ØŒ Ø³Ø§Ø®ØªØ§Ø± Ø´Ø§Ù…Ù„ Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ø§Ø³Øª:\n      \n      const title = need.text || need.title || need.Ø¹Ù†ÙˆØ§Ù† || '';\n      const dor = need.dor || '';\n      \n      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù‡Ù„Øª Ø§Ø² item3 (Ø¨Ø± Ø§Ø³Ø§Ø³ snippet Ø´Ù…Ø§)\n      const deadline = need.item3?.text || need.deadline || need.Ù…Ù‡Ù„Øª || '';\n      \n      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØªØ¹Ø¯Ø§Ø¯ Ø§ÛŒØ¯Ù‡ Ø§Ø² item2\n      const ideasCount = need.item2?.text || '';\n      \n      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù¾Ø§Ø¯Ø§Ø´ Ø§Ø² item1\n      const reward = need.item1?.text || '';\n      \n      // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù„ÛŒÙ†Ú© (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯)\n      const link = need.link || need.url || `https://nan.ac/challenges/${need.id || ''}`;\n      \n      challenges.push({\n        id: need.id || '',\n        title: title,\n        description: need.description || need.ØªÙˆØ¶ÛŒØ­Ø§Øª || '',\n        province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ',\n        provinceId: provinceId,\n        deadline: deadline,\n        reward: reward,\n        ideasCount: ideasCount,\n        dor: dor,\n        ribbon: need.ribbon || '',\n        stamp: need.stamp || '',\n        link: link,\n        category: need.category || need.Ø¯Ø³ØªÙ‡ || '',\n        organization: need.organization || need.Ø³Ø§Ø²Ù…Ø§Ù† || 'NAN'\n      });\n    }\n  });\n  \n  // Ø§Ú¯Ø± Ù‡ÛŒÚ† Ú†Ø§Ù„Ø´ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯ØŒ Ø¨Ø±Ø§ÛŒ debug Ú©Ù„ Ø³Ø§Ø®ØªØ§Ø± Ø±Ùˆ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÙˆÙ†ÛŒÙ…\n  if (challenges.length === 0) {\n    console.log('No challenges found for Khorasan Razavi');\n    console.log('Sample item:', needsArray[0]);\n    console.log('Total items:', needsArray.length);\n  }\n  \n} catch (error) {\n  return [{\n    json: {\n      success: false,\n      error: error.message,\n      errorStack: error.stack,\n      challenges: [],\n      rawData: data // Ø¨Ø±Ø§ÛŒ debug\n    }\n  }];\n}\n\nreturn [{\n  json: {\n    success: true,\n    challenges: challenges,\n    count: challenges.length,\n    province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ',\n    khorasanRazaviId: KHORASAN_RAZAVI_ID\n  }\n}];"
      },
      "id": "code-parse-nan",
      "name": "Parse & Filter Khorasan Challenges",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -656,
        300
      ]
    },
    {
      "parameters": {
        "jsCode": "// Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ùˆ ØªØ´Ø®ÛŒØµ ØªØºÛŒÛŒØ±Ø§Øª\nconst data = $input.item.json;\nconst currentChallenges = data.challenges || [];\n\nconst workflowStaticData = $getWorkflowStaticData('global');\nconst previousChallenges = workflowStaticData.nanChallenges || {};\n\nconst newChallenges = [];\nconst updatedChallenges = [];\nconst unchangedChallenges = [];\n\nconst currentChallengesMap = {};\ncurrentChallenges.forEach(challenge => {\n  const key = challenge.title.trim();\n  currentChallengesMap[key] = challenge;\n});\n\ncurrentChallenges.forEach(challenge => {\n  const key = challenge.title.trim();\n  const prevChallenge = previousChallenges[key];\n  \n  if (!prevChallenge) {\n    newChallenges.push({\n      ...challenge,\n      changeType: 'new'\n    });\n  } else {\n    const changes = [];\n    \n    if (prevChallenge.deadline !== challenge.deadline) {\n      changes.push({\n        field: 'Ù…Ù‡Ù„Øª',\n        oldValue: prevChallenge.deadline,\n        newValue: challenge.deadline\n      });\n    }\n    \n    if (prevChallenge.description !== challenge.description) {\n      changes.push({\n        field: 'ØªÙˆØ¶ÛŒØ­Ø§Øª',\n        oldValue: prevChallenge.description,\n        newValue: challenge.description\n      });\n    }\n    \n    if (changes.length > 0) {\n      updatedChallenges.push({\n        ...challenge,\n        changeType: 'updated',\n        changes: changes\n      });\n    } else {\n      unchangedChallenges.push({\n        ...challenge,\n        changeType: 'unchanged'\n      });\n    }\n  }\n});\n\nworkflowStaticData.nanChallenges = currentChallengesMap;\nworkflowStaticData.lastCheckTime = new Date().toISOString();\n\nreturn [{\n  json: {\n    success: true,\n    newCount: newChallenges.length,\n    updatedCount: updatedChallenges.length,\n    unchangedCount: unchangedChallenges.length,\n    totalCount: currentChallenges.length,\n    newChallenges: newChallenges,\n    updatedChallenges: updatedChallenges,\n    unchangedChallenges: unchangedChallenges,\n    hasChanges: (newChallenges.length > 0 || updatedChallenges.length > 0)\n  }\n}];"
      },
      "id": "code-detect-nan",
      "name": "Detect Changes",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -432,
        300
      ]
    },
    {
      "parameters": {
        "jsCode": "// Ø³Ø§Ø®Øª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Telegram\nconst data = $input.item.json;\nconst newChallenges = data.newChallenges || [];\nconst updatedChallenges = data.updatedChallenges || [];\n\nif (!data.hasChanges) {\n  return [{\n    json: {\n      send: false,\n      message: 'âœ… *Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯*\\n\\nÙ‡ÛŒÚ† Ú†Ø§Ù„Ø´ Ø¬Ø¯ÛŒØ¯ ÛŒØ§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø± Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.',\n      messageType: 'no_changes'\n    }\n  }];\n}\n\nconst faNums = ['Û°','Û±','Û²','Û³','Û´','Ûµ','Û¶','Û·','Û¸','Û¹'];\nfunction toFaDigits(s) {\n  if (s === null || s === undefined) return '';\n  return String(s).replace(/\\d/g, d => faNums[Number(d)]);\n}\n\nconst messages = [];\n\n// Ù¾ÛŒØ§Ù… Ø®Ù„Ø§ØµÙ‡\nlet summaryMsg = `ğŸ”” *Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¢ÙˆØ±ÛŒ â€” Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ*\\n\\n`;\nif (newChallenges.length > 0) {\n  summaryMsg += `ğŸ†• Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯: ${toFaDigits(newChallenges.length)}\\n`;\n}\nif (updatedChallenges.length > 0) {\n  summaryMsg += `ğŸ”„ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù‡: ${toFaDigits(updatedChallenges.length)}\\n`;\n}\nsummaryMsg += `\\nğŸ“… Ø²Ù…Ø§Ù† Ø¨Ø±Ø±Ø³ÛŒ: ${new Date().toLocaleString('fa-IR')}\\n\\n`;\nsummaryMsg += `_Ø¯Ø± Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯._`;\n\nmessages.push({\n  json: {\n    send: true,\n    message: summaryMsg,\n    messageType: 'summary',\n    index: 0\n  }\n});\n\n// Ù¾ÛŒØ§Ù… Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯\nnewChallenges.forEach((challenge, index) => {\n  let msg = `ğŸ†• *Ú†Ø§Ù„Ø´ Ù†ÙˆØ¢ÙˆØ±ÛŒ Ø¬Ø¯ÛŒØ¯*\\n\\n`;\n  \n  if (challenge.title) {\n    msg += `*ğŸ“Œ Ø¹Ù†ÙˆØ§Ù†:*\\n${challenge.title}\\n\\n`;\n  }\n  \n  if (challenge.organization) {\n    msg += `*ğŸ¢ Ø³Ø§Ø²Ù…Ø§Ù†:*\\n${challenge.organization}\\n\\n`;\n  }\n  \n  if (challenge.category) {\n    msg += `*ğŸ· Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:*\\n${challenge.category}\\n\\n`;\n  }\n  \n  if (challenge.description) {\n    msg += `*ğŸ“ ØªÙˆØ¶ÛŒØ­Ø§Øª:*\\n${challenge.description}\\n\\n`;\n  }\n  \n  if (challenge.deadline) {\n    const deadlineFa = toFaDigits(challenge.deadline);\n    msg += `*â° Ù…Ù‡Ù„Øª:*\\n${deadlineFa}\\n\\n`;\n  }\n  \n  msg += `*ğŸ“ Ø§Ø³ØªØ§Ù†:* Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ\\n\\n`;\n  \n  if (challenge.link) {\n    msg += `ğŸ”— [Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª](${challenge.link})\\n\\n`;\n  }\n  \n  msg += `_ğŸ¤– Ú†Ø§Ù„Ø´ Ø¬Ø¯ÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡ ${toFaDigits(index + 1)} Ø§Ø² ${toFaDigits(newChallenges.length)}_`;\n  \n  messages.push({\n    json: {\n      send: true,\n      message: msg,\n      messageType: 'new',\n      challenge: challenge,\n      index: messages.length\n    }\n  });\n});\n\n// Ù¾ÛŒØ§Ù… Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù‡\nupdatedChallenges.forEach((challenge, index) => {\n  let msg = `ğŸ”„ *Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú†Ø§Ù„Ø´ Ù†ÙˆØ¢ÙˆØ±ÛŒ*\\n\\n`;\n  \n  if (challenge.title) {\n    msg += `*ğŸ“Œ Ø¹Ù†ÙˆØ§Ù†:*\\n${challenge.title}\\n\\n`;\n  }\n  \n  msg += `*âœï¸ ØªØºÛŒÛŒØ±Ø§Øª:*\\n`;\n  \n  challenge.changes.forEach(change => {\n    msg += `\\nâ–«ï¸ *${change.field}*\\n`;\n    if (change.field === 'Ù…Ù‡Ù„Øª') {\n      msg += `   Ù‚Ø¨Ù„ÛŒ: ${toFaDigits(change.oldValue)}\\n`;\n      msg += `   Ø¬Ø¯ÛŒØ¯: ${toFaDigits(change.newValue)} âœ¨\\n`;\n    } else {\n      msg += `   Ù‚Ø¨Ù„ÛŒ: ${change.oldValue}\\n`;\n      msg += `   Ø¬Ø¯ÛŒØ¯: ${change.newValue} âœ¨\\n`;\n    }\n  });\n  \n  msg += `\\n*ğŸ“Š Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙØ¹Ù„ÛŒ:*\\n\\n`;\n  \n  if (challenge.organization) {\n    msg += `*ğŸ¢ Ø³Ø§Ø²Ù…Ø§Ù†:* ${challenge.organization}\\n`;\n  }\n  \n  if (challenge.deadline) {\n    msg += `*â° Ù…Ù‡Ù„Øª:* ${toFaDigits(challenge.deadline)}\\n`;\n  }\n  \n  if (challenge.link) {\n    msg += `\\nğŸ”— [Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª](${challenge.link})\\n\\n`;\n  }\n  \n  msg += `_ğŸ¤– Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ù…Ø§Ø±Ù‡ ${toFaDigits(index + 1)} Ø§Ø² ${toFaDigits(updatedChallenges.length)}_`;\n  \n  messages.push({\n    json: {\n      send: true,\n      message: msg,\n      messageType: 'updated',\n      challenge: challenge,\n      index: messages.length\n    }\n  });\n});\n\nreturn messages;"
      },
      "id": "code-format-nan",
      "name": "Format Telegram Messages",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -208,
        300
      ]
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.send }}",
              "value2": true
            }
          ]
        },
        "options": {}
      },
      "id": "if-node-nan",
      "name": "Should Send?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        16,
        300
      ]
    },
    {
      "parameters": {
        "amount": 2,
        "unit": "seconds"
      },
      "id": "wait-node-nan",
      "name": "Wait Between Messages",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        256,
        300
      ],
      "webhookId": "wait-nan-messages"
    },
    {
      "parameters": {
        "chatId": "YOUR_TELEGRAM_CHAT_ID_HERE",
        "text": "={{ $json.message }}",
        "additionalFields": {
          "parse_mode": "Markdown"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        496,
        300
      ],
      "id": "telegram-node-nan",
      "name": "Send to Telegram",
      "credentials": {
        "telegramApi": {
          "id": "YOUR_TELEGRAM_CREDENTIALS_ID",
          "name": "Telegram account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Every 12 Hours": {
      "main": [
        [
          {
            "node": "Fetch NAN Challenges Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch NAN Challenges Page": {
      "main": [
        [
          {
            "node": "Parse & Filter Khorasan Challenges",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse & Filter Khorasan Challenges": {
      "main": [
        [
          {
            "node": "Detect Changes",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Detect Changes": {
      "main": [
        [
          {
            "node": "Format Telegram Messages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Telegram Messages": {
      "main": [
        [
          {
            "node": "Should Send?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Should Send?": {
      "main": [
        [
          {
            "node": "Wait Between Messages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait Between Messages": {
      "main": [
        [
          {
            "node": "Send to Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "nan-scraper-v1",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "NANChallengesScraper",
  "tags": [
    "scraping",
    "challenges",
    "nan",
    "khorasan",
    "telegram"
  ]
}
