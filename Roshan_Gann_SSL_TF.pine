//@version=5
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Roshan Gann SSL - TradingView Pine Script v5
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//
// Ù†Ø³Ø®Ù‡: 2.0
// Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡: ØªØ¨Ø¯ÛŒÙ„ Ø§Ø² MT4 Roshan Gann SSL Ø¨Ù‡ Pine Script v5
// ØªÙˆØ¶ÛŒØ­Ø§Øª: Ø§ÛŒÙ† Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ù†Ø³Ø®Ù‡â€ŒØ§ÛŒ ØªÙ‚Ø±ÛŒØ¨ÛŒ Ø§Ø² Gann SSL (Roshan) Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Pine Script
//           ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ø§Ø² Ø®Ø·ÙˆØ· Ù¾Ù„Ù‡â€ŒØ§ÛŒ (stepped lines) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
//           Ú©Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø·ÙˆØ­ Gann Hi-Lo Activator Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
//
// ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ:
// âœ“ Ø®Ø·ÙˆØ· Ù¾Ù„Ù‡â€ŒØ§ÛŒ (Staircase/Stepped) Ø¨Ø±Ø§ÛŒ Upper Ùˆ Lower
// âœ“ Ù‚Ø§Ø¨Ù„ÛŒØª Multi-Timeframe Ø¨Ø§ Offset (+0, +1, +2, ...)
// âœ“ Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯/ÙØ±ÙˆØ´ Ø¨Ø§ ÙÙ„Ø´â€ŒÙ‡Ø§ÛŒ Ø±Ù†Ú¯ÛŒ
// âœ“ Alert Ø¨Ø±Ø§ÛŒ Ú©Ø±Ø§Ø³â€ŒÙ‡Ø§ Ùˆ ØªØºÛŒÛŒØ± Ø±ÙˆÙ†Ø¯
// âœ“ Ø¹Ø¯Ù… Repaint (No Lookahead)
// âœ“ Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ… ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø± (Period, MA Type, Colors, Precision)
//
// Ù†Ú¯Ø§Ø´Øª Timeframe Offset:
//   0 = ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø¬Ø§Ø±ÛŒ (Current TF)
//   1 = 1m â†’ 5m, 5m â†’ 15m, 15m â†’ 30m, ...
//   2 = 1m â†’ 15m, 5m â†’ 30m, 15m â†’ 1H, ...
//   3 = 1m â†’ 30m, 5m â†’ 1H, ...
//
// Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡:
// 1. Ú©Ø¯ Ø±Ø§ Ø¯Ø± Pine Editor Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯
// 2. Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÛŒØ§Ø² ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯
// 3. Timeframe Offset Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø¨Ø§Ù„Ø§ØªØ± ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯
// 4. ÙÙ„Ø´â€ŒÙ‡Ø§ Ùˆ Alerts Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯
//
// Ù…Ø«Ø§Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª (Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Roshan):
//   - Period: 10-14
//   - MA Method: SMA ÛŒØ§ EMA
//   - Stair Precision: 0.0001 (Ø¨Ø±Ø§ÛŒ Forex 4-digit)
//   - TF Offset: 1 (Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø¨Ø§Ù„Ø§ØªØ±)
//
// ØªØ³Øª Ù…ÙˆØ§Ø±Ø¯:
//   Test 1: EURUSD, 1m chart, TF Offset=1 â†’ Ø¨Ø§ÛŒØ¯ Ø§Ø² Ø¯Ø§Ø¯Ù‡ 5m Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯
//   Test 2: Ù†Ù…Ø§Ø¯ Ù†ÙˆØ³Ø§Ù†ÛŒ (Ù…Ø«Ù„ crypto) â†’ Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ø¯Ù… repaint Ø¯Ø± Ú©Ø±Ø§Ø³â€ŒÙ‡Ø§
//
// ØªÙˆØ¬Ù‡: Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ ØªÙ‚Ø±ÛŒØ¨ÛŒ Ø§Ø³Øª. Ø§Ú¯Ø± ÙØ§ÛŒÙ„ ex4 Ø§ØµÙ„ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø¨Ø§Ø´Ø¯ØŒ
//       Ù…ÛŒâ€ŒØªÙˆØ§Ù† ØªØ±Ø¬Ù…Ù‡ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯.
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

indicator("Roshan Gann SSL", shorttitle="GANN SSL", overlay=true)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INPUT PARAMETERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

gann_period = input.int(10, "Gann Period", minval=1, maxval=200, tooltip="Ø¯ÙˆØ±Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ Gann Hi-Lo Activator (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ 10-14)")
src_type = input.string("Close", "Source Type", options=["Close", "HL2", "HLC3", "OHLC4"], tooltip="Ù…Ù†Ø¨Ø¹ Ù‚ÛŒÙ…Øª Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ø§Øª")
ma_method = input.string("SMA", "MA Method", options=["SMA", "EMA", "WMA", "HMA"], tooltip="Ø±ÙˆØ´ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†â€ŒÚ¯ÛŒØ±ÛŒ")
gann_tf_offset = input.int(0, "Timeframe Offset", minval=0, maxval=8, tooltip="0=Ø¬Ø§Ø±ÛŒØŒ 1=Ø¨Ø¹Ø¯ÛŒ (1mâ†’5m)ØŒ 2=Ø¯Ùˆ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø§Ù„Ø§ØªØ± (1mâ†’15m)ØŒ ...")
stair_precision = input.float(0.0001, "Stair Precision", minval=0.00001, maxval=1.0, step=0.00001, tooltip="Ø¯Ù‚Øª Ù¾Ù„Ù‡â€ŒØ§ÛŒ Ú©Ø±Ø¯Ù†. Ù…Ø«Ù„Ø§Ù‹ 0.0001 Ø¨Ø±Ø§ÛŒ Forex 4-digitØŒ 0.01 Ø¨Ø±Ø§ÛŒ Ø³Ù‡Ø§Ù…")
use_stair = input.bool(true, "Enable Stepped Lines", tooltip="ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø®Ø·ÙˆØ· Ù¾Ù„Ù‡â€ŒØ§ÛŒ")
show_arrows = input.bool(true, "Show Entry Arrows", group="Visual")
show_labels = input.bool(false, "Show Entry Labels", group="Visual")
line_width = input.int(2, "Line Width", minval=1, maxval=5, group="Visual")
color_upper_bull = input.color(color.new(#00ff00, 0), "Upper Line (Bull)", group="Colors")
color_lower_bull = input.color(color.new(#00ff00, 50), "Lower Line (Bull)", group="Colors")
color_upper_bear = input.color(color.new(#ff0000, 0), "Upper Line (Bear)", group="Colors")
color_lower_bear = input.color(color.new(#ff0000, 50), "Lower Line (Bear)", group="Colors")
enable_alerts = input.bool(true, "Enable Alerts", group="Alerts")
show_info = input.bool(true, "Show Info Panel", group="Visual")

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPER FUNCTIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ Source
f_get_source(src_name) =>
    float result = close
    if src_name == "HL2"
        result := hl2
    else if src_name == "HLC3"
        result := hlc3
    else if src_name == "OHLC4"
        result := ohlc4
    result

// ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ Moving Average
f_get_ma(src, length, method) =>
    float result = ta.sma(src, length)
    if method == "EMA"
        result := ta.ema(src, length)
    else if method == "WMA"
        result := ta.wma(src, length)
    else if method == "HMA"
        result := ta.hma(src, length)
    result

// ØªØ§Ø¨Ø¹ Ù¾Ù„Ù‡â€ŒØ§ÛŒ Ú©Ø±Ø¯Ù† Ù…Ù‚Ø¯Ø§Ø±
f_make_stepped(value, precision, enabled) =>
    enabled ? math.round(value / precision) * precision : value

// ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ Timeframe Ø¨Ø§Ù„Ø§ØªØ±
f_get_higher_timeframe(offset) =>
    current_tf_seconds = timeframe.in_seconds()

    // Ù†Ø±Ø¯Ø¨Ø§Ù† ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§ (Ø¨Ù‡ Ø«Ø§Ù†ÛŒÙ‡)
    tf_ladder = array.from(60, 300, 900, 1800, 3600, 14400, 86400, 604800, 2592000)

    // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù…ÙˆÙ‚Ø¹ÛŒØª TF Ø¬Ø§Ø±ÛŒ
    current_idx = 0
    for i = 0 to array.size(tf_ladder) - 1
        if current_tf_seconds <= array.get(tf_ladder, i)
            current_idx := i
            break

    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Index Ù‡Ø¯Ù
    target_idx = math.min(current_idx + offset, array.size(tf_ladder) - 1)
    target_seconds = array.get(tf_ladder, target_idx)

    // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø±Ø´ØªÙ‡ Timeframe
    string tf_string = "1"
    if target_seconds == 300
        tf_string := "5"
    else if target_seconds == 900
        tf_string := "15"
    else if target_seconds == 1800
        tf_string := "30"
    else if target_seconds == 3600
        tf_string := "60"
    else if target_seconds == 14400
        tf_string := "240"
    else if target_seconds == 86400
        tf_string := "D"
    else if target_seconds == 604800
        tf_string := "W"
    else if target_seconds == 2592000
        tf_string := "M"

    tf_string

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GANN SSL CALCULATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ØªØ§Ø¨Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ Gann SSL Levels
f_calc_gann_ssl(int period, string source_type, string method, float precision, bool step_enabled) =>
    // Ù…Ø­Ø§Ø³Ø¨Ù‡ MA Ø§Ø² High Ùˆ Low
    float ma_high = f_get_ma(high, period, method)
    float ma_low = f_get_ma(low, period, method)

    // Gann Hi-Lo Activator Logic
    var int gann_trend = 0

    if close > ma_high
        gann_trend := 1
    else if close < ma_low
        gann_trend := -1

    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Upper Ùˆ Lower Lines
    float upper_line = gann_trend > 0 ? ma_high : ma_low
    float lower_line = gann_trend > 0 ? ma_low : ma_high

    // Ù¾Ù„Ù‡â€ŒØ§ÛŒ Ú©Ø±Ø¯Ù† Ù…Ù‚Ø§Ø¯ÛŒØ±
    float upper_stepped = f_make_stepped(upper_line, precision, step_enabled)
    float lower_stepped = f_make_stepped(lower_line, precision, step_enabled)

    [upper_stepped, lower_stepped, gann_trend]

// ØªØ¹ÛŒÛŒÙ† Timeframe Ù‡Ø¯Ù
string target_tf = gann_tf_offset == 0 ? timeframe.period : f_get_higher_timeframe(gann_tf_offset)

// Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø§Ø¯Ù‡ Ø§Ø² Timeframe Ù‡Ø¯Ù
[gann_upper, gann_lower, gann_trend] = request.security(syminfo.tickerid, target_tf, f_calc_gann_ssl(gann_period, src_type, ma_method, stair_precision, use_stair), gaps=barmerge.gaps_off, lookahead=barmerge.lookahead_off)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SIGNAL DETECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

bool is_bullish = gann_trend > 0
bool is_bearish = gann_trend < 0
bool trend_changed = gann_trend != gann_trend[1]
bool buy_signal = trend_changed and is_bullish
bool sell_signal = trend_changed and is_bearish

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PLOTTING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Ø±Ø³Ù… Ø®Ø· Upper
plot_upper_bull = plot(is_bullish ? gann_upper : na, "Upper (Bull)", color=color_upper_bull, linewidth=line_width, style=plot.style_stepline)
plot_upper_bear = plot(is_bearish ? gann_upper : na, "Upper (Bear)", color=color_upper_bear, linewidth=line_width, style=plot.style_stepline)

// Ø±Ø³Ù… Ø®Ø· Lower
plot_lower_bull = plot(is_bullish ? gann_lower : na, "Lower (Bull)", color=color_lower_bull, linewidth=1, style=plot.style_stepline)
plot_lower_bear = plot(is_bearish ? gann_lower : na, "Lower (Bear)", color=color_lower_bear, linewidth=1, style=plot.style_stepline)

// Fill Ø¨ÛŒÙ† Ø®Ø·ÙˆØ·
fill(plot_upper_bull, plot_lower_bull, color=color.new(color_upper_bull, 90), title="Fill Bull")
fill(plot_upper_bear, plot_lower_bear, color=color.new(color_upper_bear, 90), title="Fill Bear")

// Ø±Ø³Ù… ÙÙ„Ø´â€ŒÙ‡Ø§ÛŒ Entry
if show_arrows
    plotshape(buy_signal, "Buy Arrow", shape.triangleup, location.belowbar, color=color.new(color.blue, 0), size=size.small)
    plotshape(sell_signal, "Sell Arrow", shape.triangledown, location.abovebar, color=color.new(color.orange, 0), size=size.small)

// Ø±Ø³Ù… Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ Entry
if show_labels
    if buy_signal
        label.new(bar_index, low - (high - low) * 0.5, "BUY â–²", style=label.style_label_up, color=color.new(color.blue, 20), textcolor=color.white, size=size.normal)
    if sell_signal
        label.new(bar_index, high + (high - low) * 0.5, "SELL â–¼", style=label.style_label_down, color=color.new(color.orange, 20), textcolor=color.white, size=size.normal)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ALERTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if enable_alerts
    alertcondition(buy_signal, title="Gann SSL Buy", message="ğŸŸ¢ GANN SSL: BUY Signal on {{ticker}} @ {{close}}")
    alertcondition(sell_signal, title="Gann SSL Sell", message="ğŸ”´ GANN SSL: SELL Signal on {{ticker}} @ {{close}}")
    alertcondition(trend_changed, title="Gann SSL Trend Change", message="âš ï¸ GANN SSL: Trend Changed on {{ticker}}")

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INFO PANEL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if show_info and barstate.islast
    var table info_table = table.new(position.top_right, 2, 5, border_width=1, border_color=color.gray, frame_color=color.gray, frame_width=1)

    table.cell(info_table, 0, 0, "ğŸ¯ Roshan Gann SSL", bgcolor=color.new(color.navy, 70), text_color=color.white, text_size=size.normal)
    table.merge_cells(info_table, 0, 0, 1, 0)

    table.cell(info_table, 0, 1, "Period:", text_halign=text.align_left, bgcolor=color.new(color.gray, 90), text_size=size.small)
    table.cell(info_table, 1, 1, str.tostring(gann_period), text_halign=text.align_right, bgcolor=color.new(color.gray, 90), text_size=size.small)

    table.cell(info_table, 0, 2, "Timeframe:", text_halign=text.align_left, bgcolor=color.new(color.gray, 90), text_size=size.small)
    table.cell(info_table, 1, 2, target_tf, text_halign=text.align_right, bgcolor=color.new(color.gray, 90), text_size=size.small)

    table.cell(info_table, 0, 3, "MA Type:", text_halign=text.align_left, bgcolor=color.new(color.gray, 90), text_size=size.small)
    table.cell(info_table, 1, 3, ma_method, text_halign=text.align_right, bgcolor=color.new(color.gray, 90), text_size=size.small)

    string trend_text = is_bullish ? "BUY â–²" : is_bearish ? "SELL â–¼" : "---"
    color trend_color = is_bullish ? color.lime : is_bearish ? color.red : color.gray

    table.cell(info_table, 0, 4, "Signal:", text_halign=text.align_left, bgcolor=color.new(color.gray, 90), text_size=size.small)
    table.cell(info_table, 1, 4, trend_text, text_halign=text.align_right, text_color=trend_color, bgcolor=color.new(color.gray, 90), text_size=size.normal)
